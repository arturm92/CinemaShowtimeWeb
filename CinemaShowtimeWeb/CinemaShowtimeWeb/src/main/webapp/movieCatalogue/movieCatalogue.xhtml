<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui">
	<h:body>
		<h:form>
			<p:accordionPanel>
				<p:tab>
					<div class="ui-grid-row">
						<div class="ui-grid-col-3">Gatunki</div>
						<div class="ui-grid-col-9">
							<p:selectManyButton
								value="#{controllerBean.movieCatalogueBean.selectedGenreIds}">
								<f:selectItems var="item" itemValue="#{item.id}"
									itemLabel="#{item.name}"
									value="#{controllerBean.movieCatalogueBean.genres}" />
							</p:selectManyButton>
						</div>
					</div>
					<div class="ui-grid-row">
						<div class="ui-grid-col-3">Data premiery</div>
						<div class="ui-grid-col-9">
							<p:calendar
								value="#{controllerBean.movieCatalogueBean.releaseDate}"
								showOn="button" />
						</div>
					</div>
					<div class="ui-grid-row">
						<div class="ui-grid-col-3">
							<p:commandButton value="Filtruj"
								action="#{controllerBean.movieCatalogueBean.filter}"
								icon="pi pi-search" ajax="false">
							</p:commandButton>
						</div>
					</div>
				</p:tab>
			</p:accordionPanel>
		</h:form>

		<h:form>
			<p:dataView var="item"
				value="#{controllerBean.movieCatalogueBean.movieList}" rows="15"
				paginator="true" rowsPerPageTemplate="15,50,100"
				paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
				gridIcon="pi pi-th-large" listIcon="pi pi-bars">

				<p:dataViewGridItem>
					<h:commandLink
						action="#{controllerBean.movieCatalogueBean.clickMovie}">
						<p:panel>
							<h:panelGrid style="width:100%;text-align:center">
								<h:panelGroup>
									<div style="min-height: 60px;">
										<h:outputText value="#{item.title}"
											style="color:white;font-size:20px;text-algin:center;" />
									</div>
								</h:panelGroup>
								<p:graphicImage value="#{item.posterImage}"
									styleClass="imageInCatalogue" />
							</h:panelGrid>
						</p:panel>
						<f:param name="movieId" value="#{item.id}" />
					</h:commandLink>


				</p:dataViewGridItem>

				<p:dataViewListItem id="listItem">
					<h:panelGroup style="border-bottom: 1px solid white;">
						<h:commandLink
							action="#{controllerBean.movieCatalogueBean.clickMovie}">
							<ui:include src="../modules/movieDisplayContent.xhtml">
								<ui:param name="item" value="#{item}" />
							</ui:include>
							<f:param name="movieId" value="#{item.id}" />
						</h:commandLink>
					</h:panelGroup>
				</p:dataViewListItem>

			</p:dataView>
		</h:form>
	</h:body>
</ui:composition>